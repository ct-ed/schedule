<html lang="en">
  <head>
    <script type="module" src='https://unpkg.com/html-include-element'></script>
    <html-include src="./head.html"></html-include>
    <!-- Custom Lit components -->
    <script type="module" src="./components/dist/index.js"></script>
  </head>
  <body>
    <header>
      <navbar-component></navbar-component>
    </header>
    <main id="main">
      <schedule-component></schedule-component>
    </main>
    <aside>
      <h2>Aktuella uppgifter</h2>
      <active-assignments-component
        hideScheeduleTitle="true"
      ></active-assignments-component>
    </aside>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const schedule = document.querySelector("schedule-component");

      schedule.setAttribute("scheduleName", urlParams.get("course") ?? "");
      schedule.setAttribute("week", window.location.hash.slice(6) ?? "");

      const assignments = document.querySelector(
        "active-assignments-component"
      );
      assignments.setAttribute(
        "courses",
        `["${urlParams.get("course").toString()}"]` ?? ""
      );
    </script>
  </body>
</html>
